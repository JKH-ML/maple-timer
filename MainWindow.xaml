<Window x:Class="메이플_타이머.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="메이플 타이머" Height="200" Width="450"
        ResizeMode="NoResize" WindowStartupLocation="CenterScreen"
        Background="#FF2D2D30" WindowStyle="None" AllowsTransparency="True">
    <Border BorderBrush="#FF606060" BorderThickness="1">
        <Grid Margin="8">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- 커스텀 타이틀바 -->
            <Grid Grid.Row="0" Background="#FF2D2D30" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="메이플 타이머" Foreground="White" FontSize="12"
                           VerticalAlignment="Center" HorizontalAlignment="Left" Margin="5,0"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="MinimizeButton" Content="─" Width="25" Height="20" FontSize="10"
                            Click="MinimizeButton_Click" Background="#FF404040" Foreground="White" BorderBrush="#FF606060" Margin="1,0"/>
                    <Button x:Name="CloseButton" Content="✕" Width="25" Height="20" FontSize="10"
                            Click="CloseButton_Click" Background="#FF404040" Foreground="White" BorderBrush="#FF606060" Margin="1,0"/>
                </StackPanel>
            </Grid>

            <!-- 타이머 표시 -->
            <StackPanel Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,10">
                <TextBlock x:Name="TotalTimeDisplay" Text="30:00" FontSize="28" FontWeight="Bold"
                           HorizontalAlignment="Center" TextAlignment="Center" Foreground="White"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,0">
                    <TextBlock x:Name="ThirtyMinRemainDisplay" Text="29:50" FontSize="14" FontWeight="Bold"
                               Foreground="White" HorizontalAlignment="Center" Margin="10,0"/>
                    <TextBlock x:Name="OneMinRemainDisplay" Text="50" FontSize="14" FontWeight="Bold"
                               Foreground="White" HorizontalAlignment="Center" Margin="10,0"/>
                </StackPanel>
            </StackPanel>

            <!-- 설정 버튼 (우상단) -->
            <Button x:Name="SettingsButton" Grid.Row="1" Content="⚙" Width="25" Height="25" FontSize="12"
                    Click="SettingsButton_Click" Background="#FF404040" Foreground="White" BorderBrush="#FF606060"
                    HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,5,5,0"/>

            <!-- 프로그레스 바 -->
            <Grid Grid.Row="2" Margin="0,10">
                <ProgressBar x:Name="TimerProgressBar" Height="15" Maximum="100" Value="0"
                             MouseLeftButtonDown="TimerProgressBar_Click"
                             MouseMove="TimerProgressBar_MouseMove"
                             MouseLeave="TimerProgressBar_MouseLeave"
                             Background="#FF404040" Foreground="#FF00AA00"/>
            </Grid>

            <!-- 하단: 컨트롤과 볼륨 -->
            <Grid Grid.Row="3" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 컨트롤 버튼들 -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <Button x:Name="PlayStopButton" Content="▶" Width="35" Height="25" FontSize="14"
                            Click="PlayStopButton_Click" Background="#FF404040" Foreground="White" BorderBrush="#FF606060"/>
                    <Button x:Name="ResetButton" Content="⟲" Width="35" Height="25" FontSize="14"
                            Click="ResetButton_Click" Background="#FF404040" Foreground="White" BorderBrush="#FF606060" Margin="5,0,0,0"/>
                </StackPanel>

                <!-- 볼륨 슬라이더 -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="볼륨:" VerticalAlignment="Center" Margin="10,0,5,0" Foreground="White" FontSize="11"/>
                    <Slider x:Name="MasterVolumeSlider" Width="100" Minimum="0" Maximum="100" Value="50"
                            TickFrequency="10" IsSnapToTickEnabled="True" ValueChanged="MasterVolumeSlider_ValueChanged"/>
                    <TextBlock x:Name="VolumeLabel" Text="50%" VerticalAlignment="Center" Margin="5,0,0,0" MinWidth="25" Foreground="White" FontSize="11"/>
                </StackPanel>

                <!-- 상태 표시 -->
                <TextBlock x:Name="StatusText" Grid.Column="2" Text="준비" VerticalAlignment="Center"
                           FontSize="11" Foreground="White" Margin="5,0"/>
            </Grid>
        </Grid>
    </Border>
</Window>